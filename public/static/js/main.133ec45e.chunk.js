(this["webpackJsonpstarter-restaurant-reservation-front-end"]=this["webpackJsonpstarter-restaurant-reservation-front-end"]||[]).push([[0],{15:function(e,t,n){},37:function(e,t,n){},38:function(e,t,n){},62:function(e,t,n){"use strict";n.r(t);var a=n(1),r=n.n(a),c=n(21),s=n.n(c),i=n(4),o=n(10),l=(n(15),n(0));var u=function(){return Object(l.jsx)("nav",{className:"navbar navbar-dark align-items-start p-0",children:Object(l.jsxs)("div",{className:"container-fluid d-flex flex-column p-0",children:[Object(l.jsx)(o.b,{className:"navbar-brand d-flex justify-content-center align-items-center sidebar-brand m-0",to:"/",children:Object(l.jsx)("div",{className:"sidebar-brand-text",children:Object(l.jsx)("h1",{id:"title",style:{marginTop:20},children:"Periodic Tables"})})}),Object(l.jsxs)("ul",{className:"nav navbar-nav text-light flex-row",style:{marginBottom:20},id:"accordionSidebar",children:[Object(l.jsx)("li",{className:"nav-item",children:Object(l.jsxs)("a",{className:"nav-link",href:"/dashboard",children:[Object(l.jsx)("span",{className:"oi oi-dashboard"}),"\xa0Dashboard"]})}),Object(l.jsx)("li",{className:"nav-item",children:Object(l.jsxs)("a",{className:"nav-link",href:"/search",children:[Object(l.jsx)("span",{className:"oi oi-magnifying-glass"}),"\xa0Search"]})}),Object(l.jsx)("li",{className:"nav-item",children:Object(l.jsxs)("a",{className:"nav-link",href:"/reservations/new",children:[Object(l.jsx)("span",{className:"oi oi-plus"}),"\xa0New Reservation"]})}),Object(l.jsx)("li",{className:"nav-item",children:Object(l.jsxs)("a",{className:"nav-link",href:"/tables/new",children:[Object(l.jsx)("span",{className:"oi oi-layers"}),"\xa0New Table"]})})]})]})})},b=n(3),j=n(2),d=n.n(j),h=n(5),m=/\d\d\d\d-\d\d-\d\d/;function p(e){return"".concat(e.getFullYear().toString(10),"-").concat((e.getMonth()+1).toString(10).padStart(2,"0"),"-").concat(e.getDate().toString(10).padStart(2,"0"))}function O(e){return e.reservation_date=e.reservation_date.match(m)[0],e}function v(e){return Array.isArray(e)?e.map(O):O(e)}var x="http://localhost:5000",f=new Headers;function g(e,t,n){return N.apply(this,arguments)}function N(){return(N=Object(h.a)(d.a.mark((function e(t,n,a){var r,c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(t,n);case 3:if(204!==(r=e.sent).status){e.next=6;break}return e.abrupt("return",null);case 6:return e.next=8,r.json();case 8:if(!(c=e.sent).error){e.next=11;break}return e.abrupt("return",Promise.reject({message:c.error}));case 11:return e.abrupt("return",c.data);case 14:if(e.prev=14,e.t0=e.catch(0),"AbortError"===e.t0.name){e.next=19;break}throw console.error(e.t0.stack),e.t0;case 19:return e.abrupt("return",Promise.resolve(a));case 20:case"end":return e.stop()}}),e,null,[[0,14]])})))).apply(this,arguments)}function y(e,t){return w.apply(this,arguments)}function w(){return(w=Object(h.a)(d.a.mark((function e(t,n){var a,r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=new URL("".concat(x,"/reservations/").concat(t)),e.next=3,g(a,{headers:f,signal:n},[]);case 3:return r=e.sent,e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function _(e,t,n){return S.apply(this,arguments)}function S(){return(S=Object(h.a)(d.a.mark((function e(t,n,a){var r,c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=new URL("".concat(x,"/reservations/").concat(t)),e.next=3,g(r,{method:"put",headers:f,body:JSON.stringify(n),signal:a},[]);case 3:return c=e.sent,e.abrupt("return",c);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function k(e,t){return C.apply(this,arguments)}function C(){return(C=Object(h.a)(d.a.mark((function e(t,n){var a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=new URL("".concat(x,"/reservations")),Object.entries(t).forEach((function(e){var t=Object(b.a)(e,2),n=t[0],r=t[1];return a.searchParams.append(n,r.toString())})),e.next=4,g(a,{headers:f,signal:n},[]).then(v).then(v);case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function B(e,t){return T.apply(this,arguments)}function T(){return(T=Object(h.a)(d.a.mark((function e(t,n){var a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=new URL("".concat(x,"/reservations")),e.next=3,g(a,{method:"post",headers:f,body:JSON.stringify(t),signal:n},[]);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function F(e,t){return R.apply(this,arguments)}function R(){return(R=Object(h.a)(d.a.mark((function e(t,n){var a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=new URL("".concat(x,"/tables")),e.next=3,g(a,{method:"post",headers:f,body:JSON.stringify(t),signal:n},[]);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function D(e){return A.apply(this,arguments)}function A(){return(A=Object(h.a)(d.a.mark((function e(t){var n,a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=new URL("".concat(x,"/tables")),e.next=3,g(n,{headers:f,signal:t},[]);case 3:return a=e.sent,e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function L(e,t){return E.apply(this,arguments)}function E(){return(E=Object(h.a)(d.a.mark((function e(t,n){var a,r,c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=new URL("".concat(x,"/tables/").concat(t,"/seat")),r={data:{reservation_id:null,occupied:!1}},e.next=4,g(a,{method:"delete",headers:f,body:JSON.stringify(r),signal:n},[]);case 4:return c=e.sent,e.abrupt("return",c);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function U(e,t,n){return M.apply(this,arguments)}function M(){return(M=Object(h.a)(d.a.mark((function e(t,n,a){var r,c,s;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=new URL("".concat(x,"/tables/").concat(t,"/seat")),c={data:{reservation_id:n,occupied:!0}},e.next=4,g(r,{method:"put",headers:f,body:JSON.stringify(c),signal:a},[]);case 4:return s=e.sent,e.abrupt("return",s);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function P(e,t,n){return J.apply(this,arguments)}function J(){return(J=Object(h.a)(d.a.mark((function e(t,n,a){var r,c,s;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=new URL("".concat(x,"/reservations/").concat(t,"/status")),c={data:{status:n}},e.next=4,g(r,{method:"put",headers:f,body:JSON.stringify(c),signal:a},[]);case 4:return s=e.sent,e.abrupt("return",s);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}f.append("Content-Type","application/json");var I=function(e){var t=e.error;return t&&Object(l.jsxs)("div",{className:"alert alert-danger m-2",children:["Error: ",t.message]})};var Y=function(e){var t=e.reservations,n=Object(i.g)(),a=function(){var e=Object(h.a)(d.a.mark((function e(t){var a,r,c,s,i,o,l;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=t.first_name,r=t.last_name,c=t.mobile_number,s=t.reservation_date,i=t.reservation_time,o=t.people,!window.confirm("Do you want to cancel this reservation?")){e.next=12;break}return e.prev=2,l=new AbortController,e.next=6,_(t.reservation_id,{data:{first_name:a,last_name:r,mobile_number:c,reservation_date:s,reservation_time:i,people:o,status:"cancelled"}},l.signal);case 6:n.push("/reservations/?date=".concat(t.reservation_date)),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(t){return e.apply(this,arguments)}}();return t.length?t.map((function(e,t){return"finished"!==e.status&&"cancelled"!==e.status?Object(l.jsxs)("div",{children:[Object(l.jsx)("hr",{}),Object(l.jsxs)("div",{className:"row",style:{marginTop:25},children:[Object(l.jsxs)("div",{className:"col-6",children:[Object(l.jsxs)("h5",{children:[e.first_name," ",e.last_name," ",e.reservation_time.slice(0,-3)]}),Object(l.jsxs)("h5",{children:["Party of ",e.people]}),Object(l.jsxs)("h5",{"data-reservation-id-status":e.reservation_id,style:{marginTop:20},children:["* ",e.status.charAt(0).toUpperCase()+e.status.slice(1)," *"]})]}),"booked"===e.status?Object(l.jsxs)("div",{className:"col-2",children:[Object(l.jsx)("div",{className:"row",children:Object(l.jsx)("button",{className:"seatButton",onClick:function(){return n.push("/reservations/".concat(e.reservation_id,"/seat"))},children:"Seat"})}),Object(l.jsx)("div",{className:"row",children:Object(l.jsx)("button",{className:"editButton",onClick:function(){return n.push("/reservations/".concat(e.reservation_id,"/edit"))},children:"Edit"})}),Object(l.jsx)("div",{className:"row",children:Object(l.jsx)("button",{className:"cancelButton","data-reservation-id-cancel":e.reservation_id,onClick:function(){return a(e)},children:"Cancel"})})]}):null]})]},e.reservation_id):Object(l.jsx)(l.Fragment,{})})):Object(l.jsxs)("div",{children:[Object(l.jsx)("hr",{}),Object(l.jsx)("h6",{className:"d-flex justify-content-center",children:"No Reservations"})]})};var G=function(e){var t=e.tables,n=Object(i.g)();function a(){return(a=Object(h.a)(d.a.mark((function e(t){var a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!window.confirm("Is this table ready to seat new guests? This cannot be undone.")){e.next=13;break}return e.prev=1,a=new AbortController,e.next=5,P(t.reservation_id,"finished",a.signal);case 5:return e.next=7,L(t.table_id,a.signal);case 7:n.go(0),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[1,10]])})))).apply(this,arguments)}var r=Object(l.jsx)("div",{children:Object(l.jsx)("p",{children:"No tables found."})});return t.length&&(r=t.map((function(e,t){return Object(l.jsxs)("div",{children:[Object(l.jsx)("hr",{}),Object(l.jsxs)("h6",{children:["Table: ",e.table_name]}),e.reservation_id?Object(l.jsxs)("div",{children:[Object(l.jsx)("h6",{"data-table-id-status":e.table_id,children:"Occupied"}),Object(l.jsx)("button",{className:"clearButton","data-table-id-finish":e.table_id,style:{marginTop:5},onClick:function(){return function(e){return a.apply(this,arguments)}(e)},children:"Clear"})]}):Object(l.jsx)("h6",{"data-table-id-status":e.table_id,children:"Free"})]},t)}))),r};n(37);var H=function(e){var t=e.date,n=Object(a.useState)([]),r=Object(b.a)(n,2),c=r[0],s=r[1],o=Object(a.useState)(null),u=Object(b.a)(o,2),j=u[0],d=u[1],h=Object(a.useState)([]),m=Object(b.a)(h,2),O=m[0],v=m[1],x=Object(a.useState)(null),f=Object(b.a)(x,2),g=f[0],N=f[1],y=Object(i.g)();return Object(a.useEffect)((function(){var e=new AbortController;return d(null),k({date:t},e.signal).then(s).catch(d),D(e.signal).then(v).catch(N),function(){return e.abort()}}),[t]),Object(l.jsxs)("main",{className:"container",children:[Object(l.jsx)("br",{}),Object(l.jsx)("h1",{className:"row justify-content-center",style:{marginBottom:25},children:"Dashboard"}),Object(l.jsxs)("div",{className:"dateButtonGroup",children:[Object(l.jsx)("button",{className:"dateButton",onClick:function(){return y.push("/dashboard?date=".concat(function(e){var t=e.split("-"),n=Object(b.a)(t,3),a=n[0],r=n[1],c=n[2],s=new Date(a,r-=1,c);return s.setMonth(s.getMonth()),s.setDate(s.getDate()-1),p(s)}(t)))},children:"Previous"}),Object(l.jsx)("button",{className:"dateButton",onClick:function(){return y.push("/")},children:"Today"}),Object(l.jsx)("button",{className:"dateButton",onClick:function(){return y.push("/dashboard?date=".concat(function(e){var t=e.split("-"),n=Object(b.a)(t,3),a=n[0],r=n[1],c=n[2],s=new Date(a,r-=1,c);return s.setMonth(s.getMonth()),s.setDate(s.getDate()+1),p(s)}(t)))},children:"Next"})]}),Object(l.jsx)("br",{}),Object(l.jsxs)("h4",{style:{marginBottom:30},children:["Reservations for ",t]}),Object(l.jsx)(I,{error:j}),Object(l.jsx)(Y,{reservations:c}),Object(l.jsx)("hr",{}),Object(l.jsx)("h4",{"justify-content":"center",children:"Tables"}),Object(l.jsx)(I,{error:g}),Object(l.jsx)(G,{tables:O})]})};var q=function(){var e,t=(e=new Date,"".concat(e.getFullYear().toString(10),"-").concat((e.getMonth()+1).toString(10).padStart(2,"0"),"-").concat(e.getDate().toString(10).padStart(2,"0"))),n=Object(a.useState)(null),r=Object(b.a)(n,2),c=r[0],s=r[1],o=Object(a.useState)(null),u=Object(b.a)(o,2),j=u[0],m=u[1],p=Object(a.useState)(null),O=Object(b.a)(p,2),v=O[0],x=O[1],f=Object(a.useState)(t),g=Object(b.a)(f,2),N=g[0],y=g[1],w=Object(a.useState)("10:30"),_=Object(b.a)(w,2),S=_[0],k=_[1],C=Object(a.useState)(1),T=Object(b.a)(C,2),F=T[0],R=T[1],D=Object(a.useState)(null),A=Object(b.a)(D,2),L=A[0],E=A[1],U=Object(i.g)();function M(){return(M=Object(h.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,e.next=4,B({data:{first_name:c,last_name:j,mobile_number:v,reservation_date:N,reservation_time:S,people:F}});case 4:U.push("/dashboard?date=".concat(N)),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),E(e.t0);case 10:case"end":return e.stop()}}),e,null,[[1,7]])})))).apply(this,arguments)}var P=function(){var e=Object(h.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y(t.target.value);case 2:console.log(typeof N,N);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(l.jsxs)("div",{className:"container",children:[Object(l.jsx)("h1",{style:{marginTop:15,marginBottom:15},children:"New Reservation"}),Object(l.jsxs)("form",{onSubmit:function(e){return M.apply(this,arguments)},children:[Object(l.jsxs)("div",{className:"row",children:[Object(l.jsx)("label",{className:"col-4",htmlFor:"first_name",children:"First Name:"}),Object(l.jsx)("input",{className:"col-4",id:"first_name",type:"text",name:"first_name",value:c,onChange:function(e){s(e.target.value)}})]}),Object(l.jsxs)("div",{className:"row",children:[Object(l.jsx)("label",{className:"col-4",htmlFor:"last_name",children:"Last Name:"}),Object(l.jsx)("input",{className:"col-4",id:"last_name",type:"text",name:"last_name",value:j,onChange:function(e){m(e.target.value)}})]}),Object(l.jsxs)("div",{className:"row",children:[Object(l.jsx)("label",{className:"col-4",htmlFor:"mobile_number",children:"Mobile Number:"}),Object(l.jsx)("input",{className:"col-4",id:"mobile_number",type:"text",name:"mobile_number",value:v,onChange:function(e){x(e.target.value)}})]}),Object(l.jsxs)("div",{className:"row",children:[Object(l.jsx)("label",{className:"col-4",htmlFor:"reservation_date",children:"Reservation Date:"}),Object(l.jsx)("input",{className:"col-4",id:"reservation_date",type:"date",name:"reservation_date",value:N,onChange:P})]}),Object(l.jsxs)("div",{className:"row",children:[Object(l.jsx)("label",{className:"col-4",htmlFor:"reservation_time",children:"Reservation Time:"}),Object(l.jsx)("input",{className:"col-4",id:"reservation_time",type:"time",step:"900",name:"reservation_time",value:S,onChange:function(e){k(e.target.value)}})]}),Object(l.jsxs)("div",{className:"row",children:[Object(l.jsx)("label",{className:"col-4",htmlFor:"people",children:"People:"}),Object(l.jsx)("input",{className:"col-2",id:"people",type:"number",min:"1",name:"people",value:F,onChange:function(e){R(Number(e.target.value))}})]}),Object(l.jsx)("br",{}),Object(l.jsx)("button",{className:"submitButton",type:"submit",children:"Submit"}),Object(l.jsx)("button",{className:"cancelButton",type:"button",onClick:function(){return U.goBack()},children:"Cancel"}),Object(l.jsx)("br",{}),Object(l.jsx)("br",{}),Object(l.jsx)(I,{error:L})]})]})};var z=function(){var e=Object(a.useState)([]),t=Object(b.a)(e,2),n=t[0],r=t[1],c=Object(a.useState)(null),s=Object(b.a)(c,2),o=s[0],u=s[1],j=Object(a.useState)(null),m=Object(b.a)(j,2),p=m[0],O=m[1],v=Object(i.i)().reservation_id,x=Object(i.g)();function f(){return(f=Object(h.a)(d.a.mark((function e(t){var n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=new AbortController,e.next=3,U(p,t,n.signal);case 3:return e.next=5,P(t,"seated",n.signal).then((function(){return x.push("/")})).catch((function(e){console.log(e)}));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}Object(a.useEffect)((function(){var e=new AbortController;return D(e.signal).then(r).catch(u),function(){return e.abort()}}),[]);var g=n.map((function(e,t){return e.reservation_id?Object(l.jsxs)("option",{value:e.table_id,children:[e.table_name," - Occupied"]},t):Object(l.jsxs)("option",{value:e.table_id,children:[e.table_name," - ",e.capacity]},t)}));return Object(l.jsxs)("div",{className:"container",children:[Object(l.jsx)("h1",{style:{marginTop:15},children:"Seat Reservation"}),Object(l.jsxs)("select",{name:"table_id",onChange:function(e){O(Number(e.target.value))},style:{marginTop:10},children:[Object(l.jsx)("option",{value:"",children:"Select a table..."}),g]}),Object(l.jsx)("br",{}),Object(l.jsx)("br",{}),Object(l.jsx)(I,{error:o}),Object(l.jsx)("button",{type:"submit",className:"submitButton",onClick:function(){return function(e){return f.apply(this,arguments)}(Number(v))},children:"Submit"}),Object(l.jsx)("button",{type:"button",className:"cancelButton",onClick:function(){return x.goBack()},children:"Cancel"})]})};var K=function(){var e=Object(a.useState)(""),t=Object(b.a)(e,2),n=t[0],r=t[1],c=Object(a.useState)(null),s=Object(b.a)(c,2),o=s[0],u=s[1],j=Object(a.useState)(null),m=Object(b.a)(j,2),p=m[0],O=m[1],v=Object(i.g)(),x=function(){var e=Object(h.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,e.next=4,F({data:{table_name:n,capacity:o}});case 4:v.push("/"),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),O(e.t0);case 10:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(t){return e.apply(this,arguments)}}();return Object(l.jsxs)("div",{className:"container",children:[Object(l.jsx)("h1",{style:{marginTop:15,marginBottom:15},children:"New Table"}),Object(l.jsxs)("form",{onSubmit:x,children:[Object(l.jsxs)("div",{className:"row",children:[Object(l.jsx)("label",{className:"col-4",htmlFor:"table_name",children:"Table Name: "}),Object(l.jsx)("input",{className:"col-4",id:"table_name",type:"string",name:"table_name",value:n,onChange:function(e){r(e.target.value)}})]}),Object(l.jsxs)("div",{className:"row",children:[Object(l.jsx)("label",{className:"col-4",htmlFor:"capacity",children:"Capacity: "}),Object(l.jsx)("input",{className:"col-4",id:"capacity",type:"integer",name:"capacity",value:o,onChange:function(e){u(e.target.value)}})]}),Object(l.jsx)("button",{className:"submitButton",type:"submit",style:{marginTop:15},children:"Submit"}),Object(l.jsx)("button",{className:"cancelButton",type:"button",onClick:v.goBack,children:"Cancel"}),Object(l.jsx)("br",{}),Object(l.jsx)("br",{}),Object(l.jsx)(I,{error:p})]})]})};var Q=function(){return Object(l.jsx)("div",{className:"NotFound",children:Object(l.jsx)("h1",{children:"Not Found"})})};var V=function(){return new URLSearchParams(Object(i.h)().search)};var W=function(){var e=Object(a.useState)(null),t=Object(b.a)(e,2),n=t[0],r=t[1],c=Object(a.useState)([]),s=Object(b.a)(c,2),i=s[0],o=s[1],u=Object(a.useState)(null),j=Object(b.a)(u,2),m=j[0],p=j[1],O=function(){var e=Object(h.a)(d.a.mark((function e(t){var a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),a=new AbortController,k({mobile_number:n},a.signal).then(o).catch(p),e.abrupt("return",(function(){return a.abort()}));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),v=i.length?Object(l.jsx)(Y,{reservations:i}):Object(l.jsx)("p",{children:"No reservations found"});return Object(l.jsxs)("div",{className:"container",children:[Object(l.jsx)("h1",{style:{marginTop:15},children:"Search for Reservation"}),Object(l.jsxs)("form",{onSubmit:O,children:[Object(l.jsx)("input",{style:{marginTop:15},className:"col-5",name:"mobile_number",type:"text",value:n,placeholder:"Enter mobile number",onChange:function(e){r(e.target.value)}}),Object(l.jsx)("br",{}),Object(l.jsx)("button",{className:"findButton",type:"submit",style:{marginTop:30,marginBottom:30},children:"Find"}),Object(l.jsx)(I,{error:m}),v]})]})};function X(){var e=Object(a.useState)(null),t=Object(b.a)(e,2),n=t[0],r=t[1],c=Object(a.useState)(null),s=Object(b.a)(c,2),o=s[0],u=s[1],j=Object(a.useState)(null),m=Object(b.a)(j,2),p=m[0],O=m[1],v=Object(a.useState)(null),x=Object(b.a)(v,2),f=x[0],g=x[1],N=Object(a.useState)(null),w=Object(b.a)(N,2),S=w[0],k=w[1],C=Object(a.useState)(null),B=Object(b.a)(C,2),T=B[0],F=B[1],R=Object(i.i)().reservation_id,D=Object(a.useState)(null),A=Object(b.a)(D,2),L=A[0],E=A[1],U=Object(i.g)(),M=Object(a.useState)({}),P=Object(b.a)(M,2),J=P[0],Y=P[1];Object(a.useEffect)((function(){var e=new AbortController;function t(){return(t=Object(h.a)(d.a.mark((function t(){var n;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,y(R,e.signal);case 3:n=t.sent,Y(n),r(n.first_name),u(n.last_name),O(n.mobile_number),g(n.reservation_date),k(n.reservation_time),F(n.people),t.next=20;break;case 13:if(t.prev=13,t.t0=t.catch(0),"AbortError"!==t.t0.name){t.next=19;break}console.log("Aborted"),t.next=20;break;case 19:throw t.t0;case 20:case"end":return t.stop()}}),t,null,[[0,13]])})))).apply(this,arguments)}return function(){t.apply(this,arguments)}(),function(){return e.abort()}}),[R]);var G=function(){var e=Object(h.a)(d.a.mark((function e(t){var a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),a=new AbortController,e.prev=2,e.next=5,_(R,{data:{first_name:n,last_name:o,mobile_number:p,reservation_date:f,reservation_time:S,people:T,status:"booked"}},a.signal);case 5:U.push("/dashboard/?date=".concat(J.reservation_date)),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(2),E(e.t0);case 11:case"end":return e.stop()}}),e,null,[[2,8]])})));return function(t){return e.apply(this,arguments)}}();return Object(l.jsxs)("div",{className:"container",children:[Object(l.jsx)("h1",{style:{marginTop:15,marginBottom:15},children:"Edit Reservation"}),Object(l.jsxs)("form",{onSubmit:G,children:[Object(l.jsxs)("div",{className:"row",children:[Object(l.jsx)("label",{className:"col-4",htmlFor:"first_name",children:"First Name:"}),Object(l.jsx)("input",{className:"col-4",id:"first_name",type:"text",name:"first_name",value:n,onChange:function(e){r(e.target.value)}})]}),Object(l.jsxs)("div",{className:"row",children:[Object(l.jsx)("label",{className:"col-4",htmlFor:"last_name",children:"Last Name:"}),Object(l.jsx)("input",{className:"col-4",id:"last_name",type:"text",name:"last_name",value:o,onChange:function(e){u(e.target.value)}})]}),Object(l.jsxs)("div",{className:"row",children:[Object(l.jsx)("label",{className:"col-4",htmlFor:"mobile_number",children:"Mobile Number:"}),Object(l.jsx)("input",{className:"col-4",id:"mobile_number",type:"text",name:"mobile_number",value:p,onChange:function(e){O(e.target.value)}})]}),Object(l.jsxs)("div",{className:"row",children:[Object(l.jsx)("label",{className:"col-4",htmlFor:"reservation_date",children:"Reservation Date:"}),Object(l.jsx)("input",{className:"col-4",id:"reservation_date",type:"date",name:"reservation_date",value:f,onChange:function(e){g(e.target.value)}})]}),Object(l.jsxs)("div",{className:"row",children:[Object(l.jsx)("label",{className:"col-4",htmlFor:"reservation_time",children:"Reservation Time:"}),Object(l.jsx)("input",{className:"col-4",id:"reservation_time",type:"time",step:"900",name:"reservation_time",value:S,onChange:function(e){k(e.target.value)}})]}),Object(l.jsxs)("div",{className:"row",children:[Object(l.jsx)("label",{className:"col-4",htmlFor:"people",children:"People:"}),Object(l.jsx)("input",{className:"col-2",id:"people",type:"number",min:"1",name:"people",value:T,onChange:function(e){F(Number(e.target.value))}})]}),Object(l.jsx)("br",{}),Object(l.jsx)("button",{className:"submitButton",type:"submit",children:"Submit"}),Object(l.jsx)("button",{className:"cancelButton",type:"button",onClick:function(){return U.goBack()},children:"Cancel"}),Object(l.jsx)("br",{}),Object(l.jsx)("br",{}),Object(l.jsx)(I,{error:L})]})]})}var Z=function(){var e=V();return Object(l.jsxs)(i.d,{children:[Object(l.jsx)(i.b,{exact:!0,path:"/",children:Object(l.jsx)(i.a,{to:"/dashboard"})}),Object(l.jsx)(i.b,{exact:!0,path:"/reservations",children:Object(l.jsx)(i.a,{to:"/dashboard"})}),Object(l.jsx)(i.b,{path:"/dashboard",children:Object(l.jsx)(H,{date:e.get("date")||p(new Date)})}),Object(l.jsx)(i.b,{path:"/reservations/new",children:Object(l.jsx)(q,{})}),Object(l.jsx)(i.b,{path:"/reservations/:reservation_id/seat",children:Object(l.jsx)(z,{})}),Object(l.jsx)(i.b,{path:"/reservations/:reservation_id/edit",children:Object(l.jsx)(X,{})}),Object(l.jsx)(i.b,{path:"/tables/new",children:Object(l.jsx)(K,{})}),Object(l.jsx)(i.b,{path:"/search",children:Object(l.jsx)(W,{})}),Object(l.jsx)(i.b,{children:Object(l.jsx)(Q,{})})]})};n(38);var $=function(){return Object(l.jsx)("div",{className:"container-fluid",style:{backgroundColor:"blanchedalmond"},children:Object(l.jsxs)("div",{className:"row h-100",children:[Object(l.jsx)("div",{className:"col-md-2 side-bar",style:{paddingBottom:10},children:Object(l.jsx)(u,{})}),Object(l.jsx)("div",{className:"col",children:Object(l.jsx)(Z,{})})]})})};var ee=function(){return Object(l.jsx)(i.d,{children:Object(l.jsx)(i.b,{path:"/",children:Object(l.jsx)($,{})})})};n(39),n(40);s.a.render(Object(l.jsx)(r.a.StrictMode,{children:Object(l.jsx)(o.a,{children:Object(l.jsx)(ee,{})})}),document.getElementById("root"))}},[[62,1,2]]]);
//# sourceMappingURL=main.133ec45e.chunk.js.map